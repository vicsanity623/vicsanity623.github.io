:root {
    --bg-color-center: #4c2a4c; --bg-color-outer: #1c0f1f; --player-aura-color: #fadf7f; --enemy-color: #1a1a1a;
    --enemy-accent-color: #ff3333; --projectile-color: #ffffff; --xp-orb-color: #87ceeb; --damage-text-color: #ffffff;
    --hud-bg: rgba(0, 0, 0, 0.4); --hud-text: #ffffff; --hp-bar: #f44336;  --xp-bar: #4caf50; --modal-bg: #2a2d42;
    --modal-border: #7b84a3; --card-bg: #3a3f5e; --card-hover-bg: #4e547b; --bones-color: rgba(90, 120, 90, 0.3);
    --cracks-color: rgba(120, 50, 180, 0.4);
    --lightning-color: #9dffff; --volcano-color: #ff8c00; --safe-house-fill: rgba(161, 232, 232, 0.15); --safe-house-stroke: rgba(209, 250, 250, 0.5);
}
* { box-sizing: border-box; margin: 0; padding: 0; }
html, body { width: 100vw; height: 100vh; overflow: hidden; background: radial-gradient(circle, var(--bg-color-center) 0%, var(--bg-color-outer) 80%); color: var(--hud-text); font-family: 'Roboto', sans-serif; font-weight: 700; }
#game-container { position: relative; width: 100vw; height: 100vh; display: flex; justify-content: center; align-items: center; }
canvas { background: transparent; image-rendering: auto; width: 100%; height: 100%; cursor: default; }
.hud { position: absolute; display: flex; align-items: center; padding: 5px 15px; background: var(--hud-bg); border-radius: 5px; z-index: 10; }
#hud-top-left { top: 20px; left: 20px; flex-direction: column; align-items: flex-start; gap: 8px; }
.hud-main-stats { display: flex; align-items: center; gap: 15px; }
#hud-top-right { top: 50%; right: 20px; transform: translateY(-50%); flex-direction: column; align-items: flex-end; gap: 5px; }
#timer-text { font-size: 22px; }
#kill-counter { font-size: 16px; }
#hp-bar-container { width: 200px; height: 15px; background: rgba(0,0,0,0.5); border-radius: 5px; border: 1px solid #fff; overflow: hidden; }
#hp-bar-fill { width: 100%; height: 100%; background: var(--hp-bar); transition: width 0.2s linear; }
#hp-text, #level-text { font-size: 16px; }
#xp-bar-bottom-container { position: absolute; bottom: 20px; left: 50%; transform: translateX(-50%); width: 300px; max-width: 60%; height: 10px; background: rgba(0, 0, 0, 0.5); border: 1px solid #fff; border-radius: 5px; overflow: hidden; z-index: 10; }
#xp-bar-bottom-fill { width: 0%; height: 100%; background: var(--xp-bar); transition: width 0.2s linear; }
#auto-mode-button { background-color: #6c757d; border: 1px solid #fff; color: white; padding: 5px 10px; border-radius: 5px; cursor: pointer; font-family: 'Roboto', sans-serif; font-weight: 700; font-size: 14px; }
#auto-mode-button.auto-on { background-color: var(--player-aura-color); color: #000; }
.modal { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%) scale(0.9); background: var(--modal-bg); border: 3px solid var(--modal-border); border-radius: 15px; padding: 30px; text-align: center; box-shadow: 0 10px 30px rgba(0,0,0,0.7); z-index: 100; opacity: 0; pointer-events: none; transition: opacity 0.3s ease, transform 0.3s ease; width: 90%; max-width: 800px; font-family: 'Press Start 2P', cursive; }
.modal.visible { opacity: 1; pointer-events: all; transform: translate(-50%, -50%) scale(1); }
.modal h2 { margin-bottom: 25px; font-size: 24px; color: var(--player-aura-color); text-shadow: 3px 3px #000; }
#upgrade-options { display: flex; flex-direction: column; gap: 15px; }
@media (min-width: 768px) { #upgrade-options { flex-direction: row; }}
.upgrade-card { background: var(--card-bg); border: 2px solid var(--modal-border); border-radius: 10px; padding: 20px; flex: 1; cursor: pointer; transition: all 0.2s; }
.upgrade-card:hover { background: var(--card-hover-bg); transform: translateY(-5px); }
.upgrade-card h3 { font-size: 16px; margin-bottom: 10px; color: #fff; }
.upgrade-card p { font-size: 12px; line-height: 1.5; color: #ccc; }
.stat-bar { width: 100%; height: 10px; background: #444; border-radius: 5px; overflow: hidden; margin-top: 15px; }
#xp-bar-fill { height: 100%; background: var(--xp-bar); }
#restart-button { font-family: 'Press Start 2P', cursive; font-size: 18px; padding: 15px 30px; background: var(--player-aura-color); color: #000; border: none; border-radius: 10px; cursor: pointer; text-shadow: none; }